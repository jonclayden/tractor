library(tractor.base)
x = readDicomDirectory("/Users/johnmuschelli/Desktop/test_dcmsort/6096-210_S/210_imaging/DICOMDIR")
x = sortDicomDirectories("/Users/johnmuschelli/Desktop/test_dcmsort/6096-210_S/210_imaging/")
x
?sortDicomDirectories("/Users/johnmuschelli/Desktop/test_dcmsort/6096-210_S/210_imaging/")
dir()
system("open ")
system("open .")
res sortDicomDirectories("/Users/johnmuschelli/Desktop/test_dcmsort/6096-210_S_copy/", deleteOriginals = TRUE)
res =  sortDicomDirectories("/Users/johnmuschelli/Desktop/test_dcmsort/6096-210_S_copy/", deleteOriginals = TRUE)
sortDicomDirectories
packageVersion("tractor.base")
install.packages("tractor")
install.packages("tractor.base")
packageVersion("tractor.base")
sortDicomDirectories
library(tractor.base)
?sortDicomDirectories
dir = "/Users/johnmuschelli/Desktop/test_dcmsort/6096-210_S_copy/"
before_run = list.dirs(dir, recursive = FALSE)
before_run
dir = "/Users/johnmuschelli/Desktop/test_dcmsort/6096-210_S_copy/"
before_run = list.dirs(dir, recursive = FALSE)
before_run
dir = "/Users/johnmuschelli/Desktop/test_dcmsort/6096-210_S_copy"
before_run = list.dirs(dir, recursive = FALSE)
before_run
res =  sortDicomDirectories(dir, deleteOriginals = TRUE)
new_dirs = setdiff(after_run, before_run)
old_dirs = intersect(after_run, before_run)
after_run = list.dirs(dir, recursive = FALSE)
new_dirs = setdiff(after_run, before_run)
old_dirs = intersect(after_run, before_run)
old_dirs
unlink(old_dirs, recursive = TRUE)
library(dcm2niir)
new_dirs[1]
new_dirs[2]
new_dirs[3]
## how many files in that directory - under 5 - remove
## Keep only CT? What about MR?
res = dcm2nii(basedir = new_dirs[3])
res
check_dcm2nii(res)
file.copy(check_dcm2nii(res), new_dirs[3])
## how many files in that directory - under 5 - remove
## Keep only CT? What about MR?
basedir = new_dirs[3]
basedir
i =1
basedir = new_dirs[i]
res = dcm2nii(basedir = basedir)
res
for ( i in 1:20) {
basedir = new_dirs[i]
res = dcm2nii(basedir = basedir)
if (res$result == 0 ) {
outfile = check_dcm2nii(res)
if (length(outfile) > 0) {
file.copy(outfile, dir, overwrite = TRUE)
}
## how many files in that directory - under 5 - remove
## Keep only CT? What about MR?
# for ( i in 1:20) {
for (i in seq_along(new_dirs)) {
basedir = new_dirs[i]
res = dcm2nii(basedir = basedir)
if (res$result == 0 ) {
outfile = check_dcm2nii(res)
if (length(outfile) > 0) {
file.copy(outfile, dir, overwrite = TRUE)
}
?devtools::install_github
install.packages("devtools")
library(devtools)
?devtools::install_github
